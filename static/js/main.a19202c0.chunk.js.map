{"version":3,"sources":["logo.svg","components/TopNav.jsx","components/Details.jsx","components/Backoffice.jsx","components/Products.jsx","components/CheckoutForm.jsx","components/StripeContainer.jsx","components/CartDetails.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","NavBar","state","Navbar","collapseOnSelect","expand","to","process","Brand","Toggle","aria-controls","Collapse","id","Nav","className","this","props","location","pathname","icon","faCartPlus","onClick","history","push","Badge","variant","updateProductInCart","React","Component","withRouter","CustomToggle","children","eventKey","callback","currentEventKey","useContext","AccordionContext","decoratedOnClick","useAccordionToggle","isCurrentEventKey","style","cursor","display","justifyContent","color","fontSize","fontWeight","padding","fontFamily","height","faAngleUp","faAngleDown","Details","product","productid","addReview","editModal","newReview","comment","rate","reviews","photo","handleChange","e","currentTarget","parseInt","value","setState","fetchDetails","a","fetch","match","params","resp","ok","json","details","data","response","preventDefault","reviewBody","method","body","JSON","stringify","headers","deleteReview","console","log","Container","Row","Col","md","Image","src","image_url","width","name","description","brand","lineHeight","price","Button","length","Accordion","Card","as","Header","map","review","Body","key","_id","Modal","show","onHide","Form","onSubmit","Group","controlId","Label","Control","onChange","type","placeholder","Backoffice","getNumberOfProduct","totalProducts","then","responseObject","count","keys","Object","keyArr","i","sortingKeys","getPages","total","pages","Math","ceil","numPerPage","pageNumbers","changePage","currentPageNum","dataInPages","currentPage","selectedKey","skip","url","products","sortParam","orderKey","getOrderBy","sortedList","sortByKey","orderedList","orderByKey","handleSelect","componentDidMount","saveImg","target","files","updateProductInfo","FormData","append","editProductInfo","editInfo","category","editSingleProductInfo","event","currentId","getProductInfo","newProduct","addNewproduct","alert","addModal","deleteInfo","orderKeysArray","DropdownButton","ButtonGroup","drop","title","toUpperCase","onSelect","Dropdown","Item","Alert","Table","striped","bordered","hover","size","responsive","header","threeDots","totalPages","showMax","prevNext","activeBgColor","activeBorderColor","page","for","required","surname","email","dateofbirth","country","Products","numOfProduct","loading","getCategories","categories","unshift","element","innerPages","j","fetchProducts","catArray","item","selectedCategories","includes","allCategories","list","items","listForAll","linkToDetails","addToCart","productId","userid","sendCartUpdate","fluid","viewBox","x","y","rx","ry","Tab","defaultActiveKey","Link","Content","Pane","Img","Title","useState","done","setDone","stripe","useStripe","elements","useElements","handleSubmit","createPaymentMethod","card","getElement","CardElement","error","paymentMethod","axios","post","amount","paymentTotal","success","emptyCart","setTimeout","message","maxWidth","margin","flexDirection","stripeTestPromise","loadStripe","CartDetails","cartTotal","cartItems","makePayment","removeFromCart","productID","showCartDetails","totalArray","parseFloat","totalAmount","reduce","acc","curr","unitary_price","quantity","faTrash","App","productidArray","idArray","setPayment","path","exact","render","component","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.a19202c0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\nimport { Navbar, Nav, Badge } from 'react-bootstrap';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./Style.css\"\r\n\r\nclass NavBar extends React.Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Navbar collapseOnSelect expand=\"lg\">\r\n                <Link to={process.env.REACT_APP_HOMEPAGE}>\r\n                    <Navbar.Brand>Strive-Mazon</Navbar.Brand>\r\n                </Link>\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Link to=\"/backoffice\"\r\n                            className={\r\n                                this.props.location.pathname === '/backoffice'\r\n                                    ? \"nav-link active shadow-lg border-bottom\"\r\n                                    : \"nav-link\"\r\n                            }\r\n                        >\r\n                            Backoffice\r\n                        </Link>\r\n                    </Nav>\r\n\r\n                    {this.props.location.pathname === '/backoffice'\r\n                        ? null\r\n                        : (\r\n                            <>\r\n                                <FontAwesomeIcon icon={faCartPlus} className=\"mt-4\" onClick={() => this.props.history.push(\"/checkout\")} />\r\n                                <Badge variant=\"info\">{this.props.updateProductInCart ? this.props.updateProductInCart : 0}</Badge>\r\n                            </>\r\n                        )\r\n                    }\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar);\r\n","import React, { Component, useContext } from 'react';\r\nimport {\r\n    Container,\r\n    Row,\r\n    Col,\r\n    Image,\r\n    Navbar,\r\n    Nav,\r\n    Button,\r\n    Modal,\r\n    Form,\r\n    Accordion,\r\n    Card,\r\n    Badge\r\n} from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleUp, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useAccordionToggle } from \"react-bootstrap/AccordionToggle\";\r\nimport AccordionContext from \"react-bootstrap/AccordionContext\";\r\n\r\n\r\nfunction CustomToggle({ children, eventKey, callback }) {\r\n    const currentEventKey = useContext(AccordionContext);\r\n\r\n    const decoratedOnClick = useAccordionToggle(\r\n        eventKey,\r\n        () => callback && callback(eventKey)\r\n    );\r\n\r\n    const isCurrentEventKey = currentEventKey === eventKey;\r\n\r\n    return (\r\n        <div\r\n            onClick={decoratedOnClick}\r\n            style={{\r\n                cursor: \"pointer\",\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                color: \"#fff\",\r\n                fontSize: \"1rem\",\r\n                fontWeight: \"900\",\r\n                padding: \"0.5rem 1rem\",\r\n                fontFamily: \"sans-serif\",\r\n            }}\r\n        >\r\n            {children}\r\n            <FontAwesomeIcon\r\n                style={{ height: \"auto\" }}\r\n                icon={isCurrentEventKey ? faAngleUp : faAngleDown}\r\n            />\r\n        </div>\r\n    );\r\n}\r\nclass Details extends Component {\r\n\r\n    state = {\r\n        product: [],\r\n        productid: null,\r\n        addReview: false,\r\n        editModal: false,\r\n        newReview: {\r\n            comment: \"\",\r\n            rate: 1\r\n        },\r\n        reviews: [],\r\n        photo: ''\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const newReview = this.state.newReview\r\n        if (e.currentTarget.id === \"rate\") {\r\n            newReview[e.currentTarget.id] = parseInt(e.currentTarget.value)\r\n        }\r\n        else {\r\n            newReview[e.currentTarget.id] = e.currentTarget.value\r\n        }\r\n\r\n        this.setState({\r\n            newReview\r\n        });\r\n    }\r\n\r\n    fetchDetails = async () => {\r\n        const resp = await fetch(`${process.env.REACT_APP_API_URL}/products/` + this.props.match.params.id)\r\n        if (resp.ok) {\r\n            const details = await resp.json()\r\n            this.setState({\r\n                product: details.data\r\n            });\r\n        }\r\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/products/` + this.props.match.params.id + \"/reviews\")\r\n        if (response.ok) {\r\n            const details = await response.json()\r\n            this.setState({\r\n                reviews: details.data\r\n            });\r\n        }\r\n    }\r\n\r\n    addReview = async (e) => {\r\n        e.preventDefault()\r\n\r\n        const reviewBody = ({ ...this.state.newReview, \"productid\": this.props.match.params.id })\r\n\r\n        const resp = await fetch(`${process.env.REACT_APP_API_URL}/reviews`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(reviewBody),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n        if (resp.ok) {\r\n\r\n            this.setState({\r\n                addReview: false,\r\n                newReview: {\r\n                    comment: \"\",\r\n                    rate: null\r\n                },\r\n            });\r\n\r\n            this.fetchDetails()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchDetails()\r\n    }\r\n\r\n    deleteReview = async (id) => {\r\n        const resp = await fetch(`${process.env.REACT_APP_API_URL}/reviews/` + id, {\r\n            method: \"DELETE\"\r\n        })\r\n\r\n        this.fetchDetails()\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.state.reviews)\r\n        console.log(this.state.product)\r\n        return (\r\n            <Container className=\"py-5\">\r\n                <Row>\r\n                    {this.state.product && (\r\n                        <>\r\n                            <Col md={3} className=\"mt-5\">\r\n                                <Image src={this.state.product.image_url} style={{ height: \"20rem\", width: \"20rem\" }} />\r\n                            </Col>\r\n                            <Col md={7} className=\"mt-5 detail\">\r\n                                <div className=\"w-50\">\r\n                                    <p><h3>{this.state.product.name}</h3></p>\r\n                                    <p>\r\n                                        <span><strong>Description:</strong></span>\r\n                                        <span> {this.state.product.description}</span>\r\n                                    </p>\r\n                                    <p>\r\n                                        <span><strong>Brand:</strong></span>\r\n                                        <span> {this.state.product.brand}</span>\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between w-50\">\r\n                                    <Badge variant=\"info\" style={{ lineHeight: '2rem', fontSize: 'large' }}>€{this.state.product.price}</Badge>\r\n                                    <Button variant=\"secondary\" onClick={() => this.setState({ addReview: true })}>Add review</Button>\r\n                                </div>\r\n\r\n                                <div className=\"d-flex justify-content-center mt-4 w-75\">\r\n                                    {this.state.reviews.length > 0 ?\r\n                                        <Accordion style={{ width: \"70%\" }}>\r\n                                            <Card className=\"accordion-card\">\r\n                                                <CustomToggle as={Card.Header} eventKey=\"1\">\r\n                                                    See customers' reviews!\r\n                                                        </CustomToggle>\r\n                                                <Accordion.Collapse eventKey=\"1\">\r\n                                                    <>\r\n                                                        {this.state.reviews.map(review =>\r\n                                                            <Card.Body key={review._id}>\r\n                                                                <Badge variant=\"info\">{review.rate}</Badge> : {review.comment}\r\n                                                                <Button\r\n                                                                    className=\"ml-3\"\r\n                                                                    variant=\"danger\"\r\n                                                                    onClick={() => this.deleteReview(review._id)}\r\n                                                                >Delete</Button>\r\n                                                                {/* <Button\r\n                                                                        className=\"ml-3\"\r\n                                                                        variant=\"warning\"\r\n                                                                    >Edit</Button> */}\r\n                                                            </Card.Body>\r\n                                                        )}\r\n                                                    </>\r\n                                                </Accordion.Collapse>\r\n                                            </Card>\r\n                                        </Accordion>\r\n                                        :\r\n                                        null\r\n                                    }\r\n                                </div>\r\n                            </Col>\r\n                        </>\r\n                    )}\r\n                </Row>\r\n                <Modal show={this.state.addReview} onHide={() => this.setState({\r\n                    addReview: false,\r\n                    newReview: {\r\n                        comment: \"\",\r\n                        rate: null,\r\n                        productid: null\r\n                    }\r\n                })}>\r\n                    <Modal.Body>\r\n                        <Form onSubmit={this.addReview} >\r\n                            <Row className=\"d-flex justify-content-center\">\r\n                                <Col md={8}>\r\n                                    <Form.Group controlId=\"comment\">\r\n                                        <Form.Label>Comment</Form.Label>\r\n                                        <Form.Control\r\n                                            value={this.state.newReview.comment}\r\n                                            onChange={this.handleChange}\r\n                                            type=\"text\"\r\n                                            placeholder=\"Your comment for the product\" />\r\n                                    </Form.Group>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"d-flex justify-content-center\">\r\n                                <Col md={8}>\r\n                                    <Form.Group controlId=\"rate\">\r\n                                        <Form.Label>Rate the product</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"number\"\r\n                                            value={this.state.newReview.rate}\r\n                                            onChange={this.handleChange}\r\n                                            placeholder=\"Rate between 1-5\" />\r\n                                    </Form.Group>\r\n                                </Col>\r\n                            </Row>\r\n                            <div className=\"d-flex justify-content-center\">\r\n                                <Button variant=\"primary\" type=\"submit\">\r\n                                    Add review\r\n                                </Button>\r\n\r\n                            </div>\r\n\r\n                        </Form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Details;","import React, { Component } from \"react\";\r\nimport {\r\n    Container,\r\n    Table,\r\n    ToggleButton,\r\n    ToggleButtonGroup,\r\n    DropdownButton,\r\n    Dropdown,\r\n    ButtonGroup,\r\n    Button,\r\n    Modal,\r\n    Form,\r\n    Alert,\r\n    Row,\r\n    Col\r\n} from \"react-bootstrap\";\r\nimport Pagination from \"react-bootstrap-4-pagination\";\r\n\r\n\r\nclass Backoffice extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pageNumbers: [],\r\n            products: [],\r\n            totalProducts: null,\r\n            numPerPage: 5,\r\n            currentPageNum: 1,\r\n            sortingKeys: [],\r\n            selectedKey: '...',\r\n            orderKey: 'desc',\r\n            orderKeysArray: ['asc', 'desc'],\r\n            newProduct: {\r\n                name: \"\",\r\n                brand: \"\",\r\n                description: \"\",\r\n                category: '',\r\n                price: ''\r\n            },\r\n            editProductInfo: {\r\n                name: \"\",\r\n                brand: \"\",\r\n                description: \"\",\r\n                category: '',\r\n                price: ''\r\n            },\r\n            addModal: false,\r\n            editModal: false,\r\n            photo: '',\r\n            productid: '',\r\n        };\r\n\r\n    }\r\n\r\n    getNumberOfProduct = async () => {\r\n        const totalProducts = `${process.env.REACT_APP_API_URL}/products`\r\n        await fetch(totalProducts)\r\n            .then((response) => response.json())\r\n\r\n            .then((responseObject) => {\r\n                this.setState({ totalProducts: responseObject.count })\r\n\r\n\r\n                if (responseObject.data.length > 0) {\r\n                    let keys = Object.keys(responseObject.data[0]);\r\n                    const keyArr = []\r\n                    for (let i = 0; i < keys.length; i++) {\r\n                        let key = keys[i];\r\n                        if ((key === 'name') || (key === 'brand') || (key === 'description') || (key === 'category') || (key === 'price'))\r\n                            keyArr.push(key)\r\n                    }\r\n                    this.setState({ sortingKeys: keyArr })\r\n                }\r\n                this.getPages(responseObject.count)\r\n            })\r\n\r\n    }\r\n\r\n    getPages = (total) => {\r\n        const pages = [];\r\n        for (let i = 1; i <= Math.ceil(total / this.state.numPerPage); i++) {\r\n            pages.push(i);\r\n        }\r\n        this.setState({\r\n            pageNumbers: pages,\r\n        });\r\n    };\r\n\r\n    changePage = (value) => {\r\n        this.setState({\r\n            currentPageNum: value\r\n        })\r\n        this.dataInPages(value)\r\n    }\r\n\r\n    dataInPages = async (currentPage) => {\r\n        let sortParam\r\n        if (this.state.selectedKey === '...') {\r\n            const skip = (currentPage * this.state.numPerPage) - this.state.numPerPage\r\n            const url = `${process.env.REACT_APP_API_URL}/products?limit=${this.state.numPerPage}&offset=${skip}`\r\n\r\n            await fetch(url)\r\n                .then((response) => response.json())\r\n\r\n                .then((responseObject) =>\r\n                    this.setState({\r\n                        products: responseObject.data\r\n                    })\r\n                )\r\n        }\r\n        else {\r\n            sortParam = this.state.selectedKey\r\n\r\n            const skip = (currentPage * this.state.numPerPage) - this.state.numPerPage\r\n            const url = `${process.env.REACT_APP_API_URL}/products?limit=${this.state.numPerPage}&offset=${skip}&sort=${sortParam}&order=${this.state.orderKey}`\r\n\r\n            await fetch(url)\r\n                .then((response) => response.json())\r\n\r\n                .then((responseObject) =>\r\n                    this.setState({\r\n                        products: responseObject.data\r\n                    })\r\n                )\r\n        }\r\n    }\r\n\r\n    getOrderBy = (eventKey) => {\r\n        this.setState({ orderKey: eventKey })\r\n    }\r\n\r\n    sortedList = async (sortByKey) => {\r\n        const skip = (this.state.currentPageNum * this.state.numPerPage) - this.state.numPerPage\r\n        const url = `${process.env.REACT_APP_API_URL}/products?limit=${this.state.numPerPage}&offset=${skip}&sort=${sortByKey}&order=${this.state.orderKey}`\r\n\r\n        await fetch(url)\r\n            .then((response) => response.json())\r\n            .then((responseObject) =>\r\n                this.setState({ products: responseObject.data })\r\n            )\r\n    }\r\n\r\n    orderedList = async (orderByKey) => {\r\n        const skip = (this.state.currentPageNum * this.state.numPerPage) - this.state.numPerPage\r\n        const url = `${process.env.REACT_APP_API_URL}/products?limit=${this.state.numPerPage}&offset=${skip}&sort=${this.state.selectedKey}&order=${orderByKey}`\r\n\r\n        await fetch(url)\r\n            .then((response) => response.json())\r\n            .then((responseObject) =>\r\n                this.setState({ products: responseObject.data })\r\n            )\r\n    }\r\n\r\n    handleSelect = (eventKey) => {\r\n        this.setState({ selectedKey: eventKey })\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n\r\n        this.getNumberOfProduct()\r\n\r\n        this.dataInPages(this.state.currentPageNum)\r\n    };\r\n\r\n\r\n    saveImg = (e) => {\r\n        this.setState({\r\n            photo: e.target.files[0]\r\n        });\r\n    }\r\n\r\n    updateProductInfo = async (e) => {\r\n        e.preventDefault()\r\n        const data = new FormData()\r\n        data.append(\"product\", this.state.photo)\r\n\r\n        const resp = await fetch(`${process.env.REACT_APP_API_URL}/products/` + this.state.productid, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify(this.state.editProductInfo),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n\r\n        let addPhoto = await fetch(`${process.env.REACT_APP_API_URL}/products/` + this.state.productid + \"/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n\r\n        if (resp.ok) {\r\n            this.setState({\r\n                editModal: false\r\n            });\r\n            this.dataInPages()\r\n        }\r\n\r\n    }\r\n\r\n    editInfo = async (productid) => {\r\n        const resp = await fetch(`${process.env.REACT_APP_API_URL}/products/` + productid)\r\n\r\n        if (resp.ok) {\r\n            const product = await resp.json()\r\n            console.log(product)\r\n            this.setState({\r\n                editProductInfo: {\r\n                    name: product.data.name,\r\n                    brand: product.data.brand,\r\n                    description: product.data.description,\r\n                    category: product.data.category,\r\n                    price: product.data.price\r\n                },\r\n                productid: product.data._id,\r\n                editModal: true\r\n            });\r\n        }\r\n    }\r\n\r\n    editSingleProductInfo = event => {\r\n        let editProductInfo = this.state.editProductInfo\r\n        let currentId = event.currentTarget.id\r\n        console.log(currentId)\r\n        editProductInfo[currentId] = event.currentTarget.value\r\n\r\n        this.setState({ editProductInfo: editProductInfo })\r\n    }\r\n\r\n\r\n    getProductInfo = event => {\r\n        let newProduct = this.state.newProduct\r\n        let currentId = event.currentTarget.id\r\n        console.log(currentId)\r\n        newProduct[currentId] = event.currentTarget.value\r\n\r\n        this.setState({ newProduct: newProduct })\r\n    }\r\n\r\n\r\n    addNewproduct = async (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const url = `${process.env.REACT_APP_API_URL}/products`\r\n\r\n        try {\r\n            let response = await fetch(url, {\r\n                method: \"POST\",\r\n                body: JSON.stringify(this.state.newProduct),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            console.log(response.json())\r\n            if (response.ok) {\r\n                alert('Record saved!')\r\n                this.setState({\r\n                    newProduct: {\r\n                        name: \"\",\r\n                        brand: \"\",\r\n                        description: \"\",\r\n                        category: '',\r\n                        price: ''\r\n                    },\r\n                    addModal: false\r\n                })\r\n                this.dataInPages()\r\n            } else {\r\n                let json = await response.json()\r\n                alert(json)\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    deleteInfo = async (productid) => {\r\n        const resp = await fetch(`${process.env.REACT_APP_API_URL}/products/` + productid, {\r\n            method: \"DELETE\"\r\n        })\r\n\r\n        if (resp.ok) {\r\n            alert('Product deleted!')\r\n            this.dataInPages()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Container className=\"pt-3\">\r\n                {this.state.pageNumbers.length > 0 && (\r\n\r\n                    <>\r\n                        <Button variant=\"info\" onClick={() => this.setState({ addModal: true })}>Add new product</Button>\r\n                        <DropdownButton\r\n                            as={ButtonGroup}\r\n                            className=\"mx-3\"\r\n                            key=\"left\"\r\n                            id={`dropdown-button-drop-left`}\r\n                            drop=\"left\"\r\n                            variant=\"secondary\"\r\n                            title={`Sort by ${this.state.selectedKey.toUpperCase()}`}\r\n                            onSelect={this.handleSelect}\r\n                        >\r\n                            {this.state.sortingKeys.map((key, i) => {\r\n                                return (\r\n                                    <Dropdown.Item key={i} eventKey={key} onClick={() => this.sortedList(key)}>{key}</Dropdown.Item>\r\n                                )\r\n                            })}\r\n                        </DropdownButton>\r\n\r\n                        <div className=\"d-flex mt-3\">\r\n                            <Alert variant=\"info\" className=\"text-center\">page <strong>{this.state.currentPageNum}</strong> of <strong>{this.state.pageNumbers.length}</strong></Alert>\r\n                            {this.state.selectedKey !== '...'\r\n                                ? (\r\n                                    <div className=\"d-flex\">\r\n                                        <Alert variant=\"info\" className=\"mx-3 text-center\">Order By <strong>{this.state.selectedKey.toUpperCase()}</strong></Alert>\r\n                                        <DropdownButton\r\n                                            as={ButtonGroup}\r\n                                            className=\"h-75\"\r\n                                            key=\"right\"\r\n                                            id={`dropdown-button-drop-right`}\r\n                                            drop=\"right\"\r\n                                            variant=\"secondary\"\r\n                                            title={`${this.state.orderKey.toUpperCase()}ENDING order`}\r\n                                            onSelect={this.getOrderBy}\r\n                                        >\r\n                                            {this.state.orderKeysArray.map((key, i) => {\r\n                                                return (\r\n                                                    <Dropdown.Item key={i} eventKey={key} onClick={() => this.orderedList(key)}>{key}</Dropdown.Item>\r\n                                                )\r\n                                            })}\r\n                                        </DropdownButton>\r\n                                    </div>\r\n                                )\r\n                                : null}\r\n                        </div>\r\n\r\n                        <Table striped bordered hover size=\"sm\" responsive=\"sm\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>#</th>\r\n                                    {this.state.sortingKeys.map((header, i) => <th key={i}>{header.toUpperCase()}</th>)}\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n\r\n                                {this.state.products.map((product, i) => {\r\n\r\n                                    return (\r\n                                        <tr key={product._id}>\r\n                                            <td>{this.state.currentPageNum > 1\r\n                                                ? i = i + 1 + (this.state.numPerPage * this.state.currentPageNum) - this.state.numPerPage\r\n                                                : i = i + 1}\r\n                                            </td>\r\n                                            <td>{product.name}</td>\r\n                                            <td>{product.description}</td>\r\n                                            <td>{product.brand}</td>\r\n                                            <td>{product.price}</td>\r\n                                            <td>{product.category}</td>\r\n                                            <td><Button variant=\"warning\" onClick={() => this.editInfo(product._id)}>edit</Button></td>\r\n                                            <td><Button variant=\"danger\" onClick={() => this.deleteInfo(product._id)}>delete</Button></td>\r\n                                        </tr>\r\n                                    )\r\n                                })}\r\n                            </tbody>\r\n                        </Table>\r\n\r\n                        <Pagination\r\n                            threeDots\r\n                            totalPages={\r\n                                this.state.pageNumbers.length\r\n                            }\r\n                            currentPage={this.state.currentPageNum}\r\n                            showMax={2}\r\n                            prevNext\r\n                            activeBgColor=\"#17a2b8\"\r\n                            color=\"#17a2b8\"\r\n                            activeBorderColor=\"#17a2b8\"\r\n                            onClick={(page) =>\r\n                                this.changePage(page)\r\n                            }\r\n                        />\r\n\r\n                        <Modal\r\n                            show={this.state.editModal}\r\n                            onHide={() => this.setState({\r\n                                editModal: false, editProductInfo: {\r\n                                    name: \"\",\r\n                                    brand: \"\",\r\n                                    description: \"\",\r\n                                    category: '',\r\n                                    price: ''\r\n                                }\r\n                            })}>\r\n                            <Modal.Body>\r\n                                <Form onSubmit={this.updateProductInfo}>\r\n                                    <div className=\"form-group mt-5\">\r\n                                        <label for=\"name\">Product name</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"name\"\r\n                                            placeholder=\"Input here the Product name\"\r\n                                            onChange={this.editSingleProductInfo}\r\n                                            value={this.state.editProductInfo.name}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group \">\r\n                                        <label for=\"brand\">Product brand</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"brand\"\r\n                                            placeholder=\"Input here the Product brand\"\r\n                                            onChange={this.editSingleProductInfo}\r\n                                            value={this.state.editProductInfo.brand}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"description\">Product description</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"description\"\r\n                                            placeholder=\"Input here the Product description\"\r\n                                            onChange={this.editSingleProductInfo}\r\n                                            value={this.state.editProductInfo.description}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"category\">Product category</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"category\"\r\n                                            placeholder=\"Input here the Product category\"\r\n                                            onChange={this.editSingleProductInfo}\r\n                                            value={this.state.editProductInfo.category}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"price\">Product price</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"price\"\r\n                                            placeholder=\"Input here the Product price\"\r\n                                            onChange={this.editSingleProductInfo}\r\n                                            value={this.state.editProductInfo.price}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <input type=\"file\" name=\"file\" onChange={this.saveImg} />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <Button className=\"btn btn-primary mt-4\" type=\"submit\">\r\n                                            Update Product Info\r\n                        </Button>\r\n                                    </div>\r\n                                </Form>\r\n\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                        <Modal\r\n                            show={this.state.addModal}\r\n                            onHide={() => this.setState({\r\n                                addModal: false, newProduct: {\r\n                                    name: \"\",\r\n                                    surname: \"\",\r\n                                    email: \"\",\r\n                                    dateofbirth: '',\r\n                                    country: ''\r\n                                }\r\n                            })}>\r\n                            <Modal.Body>\r\n                                <Form onSubmit={this.addNewproduct}>\r\n                                    <div className=\"form-group mt-5\">\r\n                                        <label for=\"name\">Product name</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"name\"\r\n                                            placeholder=\"Input here the Product name\"\r\n                                            onChange={this.getProductInfo}\r\n                                            value={this.state.newProduct.name}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group \">\r\n                                        <label for=\"surname\">Product brand</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"brand\"\r\n                                            placeholder=\"Input here the Product brand\"\r\n                                            onChange={this.getProductInfo}\r\n                                            value={this.state.newProduct.brand}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"eamil\">Product description</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"description\"\r\n                                            placeholder=\"Input here the Product description\"\r\n                                            onChange={this.getProductInfo}\r\n                                            value={this.state.newProduct.description}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"dateofbirth\">Product category</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"category\"\r\n                                            placeholder=\"Input here the Product category\"\r\n                                            onChange={this.getProductInfo}\r\n                                            value={this.state.newProduct.category}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"country\">Product price</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control\"\r\n                                            id=\"price\"\r\n                                            placeholder=\"Input here the Product price\"\r\n                                            onChange={this.getProductInfo}\r\n                                            value={this.state.newProduct.price}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <Button className=\"btn btn-primary mt-4\" type=\"submit\">\r\n                                            Save Product Info\r\n                        </Button>\r\n                                    </div>\r\n                                </Form>\r\n\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                    </>\r\n                )}\r\n\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Backoffice;\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\"\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Card,\r\n  Alert,\r\n  Tab,\r\n  Spinner,\r\n  Nav,\r\n  Badge,\r\n} from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { withRouter } from \"react-router\";\r\nimport Pagination from \"react-bootstrap-4-pagination\";\r\nimport \"./Style.css\";\r\n\r\nclass Products extends React.Component {\r\n  state = {\r\n    products: [],\r\n    numOfProduct: [],\r\n    numPerPage: 8,\r\n    currentPageNum: 1,\r\n    loading: false,\r\n    pageNumbers: [],\r\n  };\r\n\r\n  getNumberOfProduct = async () => {\r\n    let total = [];\r\n    const categories = await this.getCategories();\r\n    if (categories) {\r\n      for (const category of categories) {\r\n        // get total number for each category\r\n        const url = `${process.env.REACT_APP_API_URL}/products?category=${category}`;\r\n        const resp = await fetch(url);\r\n\r\n        if (resp.ok) {\r\n          const products = await resp.json();\r\n          total.push(products.count);\r\n        }\r\n      }\r\n\r\n      // get total number for all category together\r\n      const url = `${process.env.REACT_APP_API_URL}/products`;\r\n      const resp = await fetch(url);\r\n\r\n      if (resp.ok) {\r\n        const products = await resp.json();\r\n        total.unshift(products.count);\r\n      }\r\n      this.setState({\r\n        numOfProduct: total,\r\n      });\r\n      this.getPages(total);\r\n    }\r\n  };\r\n\r\n  getPages = (total) => {\r\n    const pages = [];\r\n    for (let i = 0; i < total.length; i++) {\r\n      const element = total[i];\r\n      let innerPages = [];\r\n      for (let j = 1; j <= Math.ceil(element / this.state.numPerPage); j++) {\r\n        innerPages.push(j);\r\n      }\r\n      pages.push(innerPages);\r\n    }\r\n    this.setState({\r\n      pageNumbers: pages,\r\n    });\r\n  };\r\n\r\n  changePage = (value) => {\r\n    if (value > 1) {\r\n      this.setState({\r\n        currentPageNum: value,\r\n      });\r\n    } else {\r\n      this.setState({ currentPageNum: 1 });\r\n    }\r\n    this.fetchProducts();\r\n  };\r\n\r\n  getCategories = async () => {\r\n    const url = `${process.env.REACT_APP_API_URL}/products`;\r\n    const resp = await fetch(url);\r\n\r\n    if (resp.ok) {\r\n      const categories = await resp.json();\r\n      let catArray = categories.data.map((item) => item.category);\r\n      let selectedCategories = [];\r\n      catArray.map((item) =>\r\n        !selectedCategories.includes(item)\r\n          ? selectedCategories.push(item)\r\n          : null\r\n      );\r\n\r\n      return selectedCategories;\r\n    }\r\n  };\r\n\r\n  fetchProducts = async () => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    let allCategories = [];\r\n    const categories = await this.getCategories();\r\n    if (categories) {\r\n      const skip =\r\n        this.state.currentPageNum * this.state.numPerPage -\r\n        this.state.numPerPage;\r\n      for (const category of categories) {\r\n        // get all products and break them into category and add into the array\r\n        let list = {};\r\n        const url = `${process.env.REACT_APP_API_URL}/products?category=${category}&limit=${this.state.numPerPage}&offset=${skip}`;\r\n        const resp = await fetch(url);\r\n\r\n        if (resp.ok) {\r\n          const products = await resp.json();\r\n          list.category = category;\r\n          list.items = products.data;\r\n          allCategories.push(list);\r\n        }\r\n      }\r\n\r\n      // get all products for all categories and add into the array\r\n      let listForAll = {};\r\n      const category = \"All Products\";\r\n      const url = `${process.env.REACT_APP_API_URL}/products?limit=${this.state.numPerPage}&offset=${skip}`;\r\n      const resp = await fetch(url);\r\n\r\n      if (resp.ok) {\r\n        const products = await resp.json();\r\n        listForAll.category = category;\r\n        listForAll.items = products.data;\r\n        allCategories.unshift(listForAll);\r\n      }\r\n      this.setState({\r\n        products: allCategories,\r\n        loading: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getNumberOfProduct();\r\n    this.fetchProducts();\r\n  }\r\n\r\n  linkToDetails = (id) => {\r\n    this.props.history.push(\"/productDetails/\" + id);\r\n  };\r\n\r\n  addToCart = async (productId) => {\r\n    const userid = 1;\r\n    const url = `${process.env.REACT_APP_API_URL}/cart`;\r\n    const addProduct = await fetch(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ productid: productId, userid: userid }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    if (addProduct.ok) {\r\n      this.props.sendCartUpdate(productId, userid);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Container fluid>\r\n          {this.state.loading && (\r\n            <ContentLoader style={{ width: '100%', height: '100vh' }} viewBox=\"0 0 1500 800\" height={800} width={1500} {...this.props}>\r\n              <rect x=\"5\" y=\"45\" rx=\"4\" ry=\"4\" width=\"220\" height=\"35\" />\r\n              <rect x=\"5\" y=\"85\" rx=\"4\" ry=\"4\" width=\"220\" height=\"35\" />\r\n              <rect x=\"5\" y=\"125\" rx=\"4\" ry=\"4\" width=\"220\" height=\"35\" />\r\n              <rect x=\"5\" y=\"165\" rx=\"4\" ry=\"4\" width=\"220\" height=\"35\" />\r\n              <rect x=\"250\" y=\"43\" rx=\"0\" ry=\"0\" width=\"280\" height=\"300\" />\r\n              <rect x=\"550\" y=\"43\" rx=\"0\" ry=\"0\" width=\"280\" height=\"300\" />\r\n              <rect x=\"850\" y=\"43\" rx=\"0\" ry=\"0\" width=\"280\" height=\"300\" />\r\n              <rect x=\"1150\" y=\"43\" rx=\"0\" ry=\"0\" width=\"280\" height=\"300\" />\r\n              <rect x=\"250\" y=\"400\" rx=\"2\" ry=\"2\" width=\"280\" height=\"300\" />\r\n              <rect x=\"550\" y=\"400\" rx=\"2\" ry=\"2\" width=\"280\" height=\"300\" />\r\n              <rect x=\"850\" y=\"400\" rx=\"2\" ry=\"2\" width=\"280\" height=\"300\" />\r\n              <rect x=\"1150\" y=\"400\" rx=\"2\" ry=\"2\" width=\"280\" height=\"300\" />\r\n            </ContentLoader>\r\n          )}\r\n          {this.state.products && this.state.products.length > 0 && (\r\n            <div className=\"inStore\">\r\n              <Tab.Container\r\n                id=\"left-tabs-example\"\r\n                defaultActiveKey=\"0\"\r\n                onSelect={() => this.changePage(1)}\r\n              >\r\n                <Row>\r\n                  <Col md={2}>\r\n                    <Nav variant=\"pills\" className=\"flex-column\">\r\n                      {this.state.products.map((list, i) => {\r\n                        return (\r\n                          <Nav.Item key={i}>\r\n                            <Nav.Link\r\n                              eventKey={i}\r\n                              className=\"d-flex justify-content-between\"\r\n                            >\r\n                              <small>\r\n                                <b>{list.category}</b>\r\n                              </small>\r\n                              <Badge variant=\"light\">\r\n                                <span>{this.state.numOfProduct[i]}</span>\r\n                              </Badge>\r\n                            </Nav.Link>\r\n                          </Nav.Item>\r\n                        );\r\n                      })}\r\n                    </Nav>\r\n                  </Col>\r\n                  <Col md={10}>\r\n                    <Tab.Content>\r\n                      {this.state.products.map((list, i) => {\r\n                        return (\r\n                          <Tab.Pane key={i} eventKey={i}>\r\n                            {//!this.state.loading &&\r\n                              list.items.length > 0 &&\r\n                              this.state.pageNumbers &&\r\n                              this.state.pageNumbers.length > 0 && (\r\n                                <>\r\n                                  <div className=\"d-flex flex-wrap\">\r\n                                    {list.items.map((product) => (\r\n                                      <Card\r\n                                        key={product._id}\r\n                                        className=\"productCard\"\r\n                                      >\r\n                                        <Card.Img\r\n                                          variant=\"top\"\r\n                                          src={product.image_url}\r\n                                          height=\"40%\"\r\n                                        />\r\n                                        <Card.Body>\r\n                                          <Card.Title>\r\n                                            {product.name}\r\n                                          </Card.Title>\r\n                                          <label>\r\n                                            Brand: {product.brand}\r\n                                          </label>\r\n                                          <h4> €{product.price}</h4>\r\n                                          <div className=\"d-flex justify-content-between\">\r\n                                            <Button\r\n                                              variant=\"info\"\r\n                                              onClick={() =>\r\n                                                this.linkToDetails(\r\n                                                  product._id\r\n                                                )\r\n                                              }\r\n                                            >\r\n                                              detail\r\n                                                </Button>\r\n                                            <Button\r\n                                              variant=\"secondary\"\r\n                                              onClick={\r\n                                                () =>\r\n                                                  this.addToCart(\r\n                                                    product._id\r\n                                                  )\r\n                                              }\r\n                                            >\r\n                                              add to cart\r\n                                                  <FontAwesomeIcon\r\n                                                icon={faCartPlus}\r\n                                              />\r\n                                            </Button>\r\n                                          </div>\r\n                                        </Card.Body>\r\n                                      </Card>\r\n                                    ))}\r\n                                  </div>\r\n                                  <div className=\"d-flex justify-content-between mt-2 mainPageFooter\">\r\n                                    <Pagination\r\n                                      threeDots\r\n                                      totalPages={\r\n                                        this.state.pageNumbers[i].length\r\n                                      }\r\n                                      currentPage={this.state.currentPageNum}\r\n                                      showMax={2}\r\n                                      prevNext\r\n                                      activeBgColor=\"#17a2b8\"\r\n                                      color=\"#17a2b8\"\r\n                                      activeBorderColor=\"#17a2b8\"\r\n                                      onClick={(page) =>\r\n                                        this.changePage(page)\r\n                                      }\r\n                                    />\r\n\r\n                                    <Alert\r\n                                      variant=\"light\"\r\n                                    >\r\n                                      page{\" \"}\r\n                                      <strong>\r\n                                        {this.state.currentPageNum}\r\n                                      </strong>{\" \"}\r\n                                        of{\" \"}\r\n                                      <strong>\r\n                                        {this.state.pageNumbers[i].length}\r\n                                      </strong>\r\n                                    </Alert>\r\n                                  </div>\r\n                                </>\r\n                              )}\r\n                            {!this.state.loading && list.items.length < 1 && (\r\n                              <p className=\"text-center\">\r\n                                <strong>No product in store</strong>\r\n                              </p>\r\n                            )}\r\n                          </Tab.Pane>\r\n                        );\r\n                      })}\r\n                    </Tab.Content>\r\n                  </Col>\r\n                </Row>\r\n              </Tab.Container>\r\n            </div>\r\n          )}\r\n\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Products);\r\n","import React, { useState } from \"react\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport axios from \"axios\";\r\nimport { Alert, Button, Container, Form } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router-dom\"\r\nimport \"./Style.css\"\r\n\r\nconst CheckoutForm = (props) => {\r\n  console.log(props.history)\r\n  const [done, setDone] = useState(false)\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardElement),\r\n    });\r\n\r\n    if (!error) {\r\n      console.log(\"Stripe 23 | token generated!\", paymentMethod);\r\n      //send token with payment details to backend\r\n      try {\r\n        const { id } = paymentMethod;\r\n        const response = await axios.post(\r\n          `${process.env.REACT_APP_API_URL}/cart/stripe/charge`,\r\n          {\r\n            amount: props.paymentTotal,\r\n            id: id,\r\n          }\r\n        );\r\n\r\n        console.log(\"Stripe 35 | data\", response.data.success);\r\n        if (response.data.success) {\r\n          console.log(\"CheckoutForm.js 25 | payment successful!\");\r\n          const url = `${process.env.REACT_APP_API_URL}/cart/1`;\r\n          const resp = await fetch(url, {\r\n            method: \"DELETE\",\r\n          });\r\n\r\n          if (resp.ok) {\r\n            props.emptyCart(0);\r\n            setDone(true)\r\n            setTimeout(() => {\r\n              setDone(false)\r\n              props.history.push(`${process.env.REACT_APP_HOMEPAGE}`)\r\n            }, 5000);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log(\"CheckoutForm.js 28 | \", error);\r\n      }\r\n    } else {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"text-center pt-3\">\r\n      <div style={{ maxWidth: '50%', margin: 'auto' }}>\r\n        <h4>Enter your card details to complete the payment</h4>\r\n        <Alert variant=\"info\">\r\n          <strong>Total Purchase (€{props.paymentTotal})</strong>\r\n        </Alert>\r\n        <Form onSubmit={handleSubmit} style={{ maxWidth: '75%', display: 'flex', margin: 'auto', flexDirection: 'column' }}>\r\n          <CardElement className=\"my-5\" />\r\n          <button id=\"payBtn\">Pay Now</button>\r\n        </Form>\r\n        <Alert variant=\"info\" show={done} className=\"mt-3\">\r\n          <strong>\r\n            Payment accepted and your goods are on the way! Thank you for your purchase and hope to see you again!\r\n      </strong>\r\n        </Alert>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(CheckoutForm);","import React from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\n\r\nimport CheckoutForm from \"./CheckoutForm\";\r\nimport {withRouter} from \"react-router-dom\"\r\n\r\nconst PUBLIC_KEY =\r\n  \"pk_test_51HiMfGF0BTR6mhRYaP0W68izWmkcFUYNqvzshZIwb8d3MyAuViC8HFmP8WU4TQEOBsjlAqLn9tOr5RacYxeit67q00iqLQn6QY\";\r\n\r\nconst stripeTestPromise = loadStripe(PUBLIC_KEY);\r\n\r\nconst Stripe = ({paymentTotal, emptyCart}) => {\r\n  return (\r\n    <Elements stripe={stripeTestPromise}>\r\n      <CheckoutForm paymentTotal={paymentTotal} emptyCart={emptyCart}/>\r\n    </Elements>\r\n  );\r\n};\r\n\r\nexport default withRouter(Stripe);\r\n","import React from \"react\";\r\nimport { Alert, Button, Table, Container } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nclass CartDetails extends React.Component {\r\n  state = {\r\n    cartTotal: 0,\r\n    cartItems: [],\r\n  };\r\n\r\n  makePayment = () => {\r\n    this.props.paymentTotal(this.state.cartTotal)\r\n    this.props.history.push(\"/payments\")\r\n  };\r\n\r\n  removeFromCart = async (productID) => {\r\n    const url = `${process.env.REACT_APP_API_URL}/cart/1/${productID}`;\r\n    const resp = await fetch(url, {\r\n      method: \"DELETE\",\r\n    });\r\n    if (resp.ok) {\r\n      this.showCartDetails()\r\n    }\r\n\r\n  }\r\n\r\n  showCartDetails = async () => {\r\n    const url = `${process.env.REACT_APP_API_URL}/cart/1`;\r\n    const resp = await fetch(url);\r\n    if (resp.ok) {\r\n      const products = await resp.json();\r\n      if (products.length > 0) {\r\n        const totalArray = products.map((item) => parseFloat(item.total));\r\n        let totalAmount = totalArray.reduce((acc, curr) => {\r\n          return acc + curr;\r\n        });\r\n        this.setState({\r\n          cartItems: products,\r\n          cartTotal: totalAmount,\r\n        });\r\n        console.log(totalArray);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.showCartDetails()\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.cartItems);\r\n    return (\r\n      <Container>\r\n        <div className=\"text-center mt-5\">\r\n          <Table striped bordered hover size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>name</th>\r\n                <th>unit price</th>\r\n                <th>quantity</th>\r\n                <th>total price</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.cartItems.map((item, i) => (\r\n                <tr key={i}>\r\n                  <th>{i + 1}</th>\r\n                  <th>{item.name}</th>\r\n                  <th>{item.unitary_price}</th>\r\n                  <th>{item.quantity}</th>\r\n                  <th>{item.total}</th>\r\n                  <th>\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      onClick={() => this.removeFromCart(item._id)}\r\n                    >\r\n                      <FontAwesomeIcon icon={faTrash} />\r\n                    </Button>\r\n                  </th>\r\n                </tr>\r\n              ))}\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th>Overall Total</th>\r\n                <th>€{this.state.cartTotal}</th>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <Button variant=\"info\" onClick={() => this.props.history.push(`${process.env.REACT_APP_HOMEPAGE}`)}>\r\n              Continue shopping\r\n            </Button>\r\n            <Button variant=\"success\" onClick={() => this.makePayment()}>\r\n              Proceed to Payment\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CartDetails;\r\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Navbar from \"./components/TopNav\";\nimport Details from \"./components/Details\";\nimport Backoffice from \"./components/Backoffice\";\nimport Products from \"./components/Products\";\nimport Stripe from \"./components/StripeContainer\";\nimport CartDetails from \"./components/CartDetails\";\n\nclass App extends React.Component {\n  state = {\n    count: 0,\n    productidArray: [],\n    paymentTotal: 0\n  };\n\n  addToCart = async (productid, userid) => {\n    if (!this.state.productidArray.includes(productid)) {\n      const idArray = [...this.state.productidArray, productid];\n      this.setState({ productidArray: idArray, count: this.state.count + 1 });\n    } else {\n      this.setState({ count: this.state.count });\n    }\n  };\n\n  emptyCart = (value) => {\n    this.setState({ count: value });\n  };\n\n  setPayment = (value) => {\n    this.setState({ paymentTotal: value });\n  };\n\n  render() {\n    console.log(this.state.productidArray);\n    return (\n      <Router>\n        <Navbar updateProductInCart={this.state.count} />\n        <Route\n          path={process.env.REACT_APP_HOMEPAGE}\n          exact\n          render={(props) => (\n            <Products {...props} sendCartUpdate={this.addToCart} />\n          )}\n        />\n        <Route path=\"/productDetails/:id\" component={Details} />\n        <Route path=\"/payments\"\n          render={(props) => <Stripe {...props} paymentTotal={this.state.paymentTotal} emptyCart={this.emptyCart} />} />\n        <Route\n          path=\"/checkout\"\n          render={(props) => <CartDetails {...props} paymentTotal={this.setPayment} />}\n        />\n        <Route path=\"/backoffice\" component={Backoffice} />\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}